	
//=====================头文件====================================
#include "AAA-Include.h"
//=====================私有定义====================================

//******全局定义******全局定义******全局定义******全局定义******全局定义******全局定义******全局定义************
//=====================全局变量====================================


//=====================全局函数====================================



//******私有定义******私有定义******私有定义******私有定义******私有定义******私有定义******私有定义************
//=====================私有变量====================================
#define		YANSHICHANGDU_5S_LENGTH				7

int32_t		Island_Step_Difference;

int32_t		Island_Delta[YANSHICHANGDU_5S_LENGTH + 1];
	
//--------------------------------------------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------------------------------------------
//孤岛					孤岛					孤岛					孤岛					孤岛					孤岛					孤岛					孤岛					孤岛					孤岛					孤岛
//--------------------------------------------------------------------------------------------------------------------------------------------------------------------
void Lonely_Island(void)
{
	uint8_t in8;

	
	//------------------------
		if(Sec == false)
	     {return;}
	  Sec = false;		//	一秒计算一次
	//------------------------
	
			 
			 
			 
		if(Five_Sec == true)
	     {
					for(in8=0;	in8<YANSHICHANGDU_5S_LENGTH;	in8++)
							{
								Island_Delta[in8] = Island_Delta[in8+1];
							}	
					Five_Sec = false;			
				}
			 
				
				
		Island_Delta[YANSHICHANGDU_5S_LENGTH] 		= r_ring.all_length - l_ring.all_length;
				
		Island_Step_Difference 										= Island_Delta[YANSHICHANGDU_5S_LENGTH] - Island_Delta[0];
				
				
				
				
				
				
		if(abs(Island_Step_Difference) > (uint32_t)(360 * DuLun_Angle_1))
				{
							Enable_Beep_number(10);
						
							stop_rap();
						
							for(in8=0;	in8<YANSHICHANGDU_5S_LENGTH;	in8++)
									{
										Island_Delta[in8] = Island_Delta[YANSHICHANGDU_5S_LENGTH];
									}		
						
							mode.step_bp = 0;
							mode.bump = 0;
							mode.step = 0x88;
							
							gsv_work_mode.work_mode = YBS;	 		//	不玩了。重新进入
							mode.mode = YBS;							
									
		////////					while(1)
		////////							{
		////////								stop_rap();
		////////								Beep_Driver(); 					
		////////							}
						
				}
				





} //结束  
//--------------------------------------------------------------------------------------------------------------------------------------------------------------------
//孤岛					孤岛					孤岛					孤岛					孤岛					孤岛					孤岛					孤岛					孤岛					孤岛					孤岛
//--------------------------------------------------------------------------------------------------------------------------------------------------------------------






















