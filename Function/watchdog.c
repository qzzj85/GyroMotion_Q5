#define __WATCHDOG_C
  
////////////////////////头文件////////////////////////////////////
#include "watchdog.h"

////////////////////////私有定义//////////////////////////////////
////////////////////////全局变量//////////////////////////////////
///////////////////////私有变量////////////////////////////////////
///////////////////////全局函数////////////////////////////////////
///////////////////////私有函数////////////////////////////////////
///////////////////////函数实体////////////////////////////////////
/******************************************************************
功能：初始化看门狗
输入：无
输出：无
说明：使用时钟的64分频。溢出计数为 1000。在3到12秒钟内看门狗复位
******************************************************************/
void Init_WatchDog(void)
{	   
  #ifdef  DEBUG   
  *((uint32 *)0xe0042004) |= 10;
  #endif  
  	   
      IWDG_ReloadCounter();	 
      IWDG_WriteAccessCmd(IWDG_WriteAccess_Enable);
      IWDG_SetPrescaler(IWDG_Prescaler_256);//使用
      IWDG_SetReload(1000);
      IWDG_ReloadCounter();
	  //IWDG->KR=0XCCCC;
}
